<app-header [backButton]="true"></app-header>


<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Nueva dirección</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form #form="ngForm">
        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <ion-item-group>
                <ion-item-divider>
                  <ion-label>Información de dirección</ion-label>
                </ion-item-divider>
              </ion-item-group>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item lines="none">
                <ion-label color="primary" position="stacked"
                  >Nombre ({{data.nombre.length}}/50):
                  <ion-text color="danger"> * </ion-text>
                </ion-label>
                <ion-input
                  class="ion-text-end"
                  [(ngModel)]="data.nombre"
                  #nombre="ngModel"
                  name="nombre"
                  id="nombre"
                  required
                  maxlength="50"
                  placeholder="Ej: Casa, oficina, suegros..."
                ></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item lines="none">
                <ion-label color="primary" position="stacked"
                  >Detalle de la dirección ({{data.direccion.length}}/100):
                  <ion-text color="danger"> * </ion-text>
                </ion-label>
                <ion-textarea
                  class="ion-text-end"
                  [(ngModel)]="data.direccion"
                  #direccion="ngModel"
                  name="direccion"
                  id="direccion"
                  required
                  maxlength="100"
                  placeholder="Ej: 6a calle 9-61 zona 10."
                ></ion-textarea>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item lines="none" (click)="elegirDestino()">
                <ion-icon
                  name="locate-outline"
                  [color]="data.latitud && data.longitud ? 'success' : 'danger'"
                  slot="end"
                ></ion-icon>
                <ion-label class="ion-text-wrap" color="primary"
                  ><small
                    >Por favor elige tu ubicación en el mapa<ion-text
                      color="danger"
                    >
                      *
                    </ion-text></small
                  >
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row class="ion-padding-horizontal ion-align-items-center">
            <ion-col size="6">
              <ion-label color="primary" class="ion-text-wrap"
                ><small>Latitud:</small></ion-label
              >
            </ion-col>
            <ion-col size="6">
              <ion-input
                class="ion-text-end ion-padding-horizontal"
                [(ngModel)]="data.latitud"
                #latitud="ngModel"
                name="latitud"
                id="latitud"
                readonly
                required
                placeholder=""
                type="number"
              ></ion-input>
            </ion-col>
            <ion-col size="6">
              <ion-label color="primary" class="ion-text-wrap"
                ><small>Longitud:</small></ion-label
              >
            </ion-col>
            <ion-col size="6">
              <ion-input
                class="ion-text-end ion-padding-horizontal"
                [(ngModel)]="data.longitud"
                #longitud="ngModel"
                name="longitud"
                id="longitud"
                readonly
                required
                placeholder=""
                type="number"
              ></ion-input>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-button
                (click)="cancelar()"
                color="medium"
                expand="block"
                fill="clear"
                shape="round"
              >
                Cancelar
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button
                [disabled]="!form.valid"
                (click)="guardar()"
                expand="block"
                shape="round"
              >
                Guardar
              </ion-button>
              <!--  -->
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>
